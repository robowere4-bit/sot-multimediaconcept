<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>S.O.T Bible Quiz</title>
<style>
:root{
  --orange:#ff7a18;
  --gold:#ffb347;
  --dark:#020617;
}
*{box-sizing:border-box;font-family:system-ui,sans-serif;margin:0;padding:0}
body{background:#0f172a;color:#fff;overflow-x:hidden}

/* LOADING */
#loading{position:fixed;inset:0;background:#020617;display:flex;flex-direction:column;align-items:center;justify-content:center;z-index:9999}
#loadLogo{width:90px;height:90px;border-radius:50%;border:5px solid var(--orange);animation:spin 2s linear infinite;margin-bottom:12px}
@keyframes spin{to{transform:rotate(360deg)}}
#loadText{margin-bottom:10px;font-weight:bold}
#bar{width:260px;height:12px;background:#1f2937;border-radius:20px;overflow:hidden}
#fill{height:100%;width:1%;background:linear-gradient(90deg,var(--orange),var(--gold))}

/* HEADER */
header{display:flex;justify-content:space-between;align-items:center;padding:14px 20px;background:#020617}
header h1{animation:blink 1.3s infinite}
@keyframes blink{50%{opacity:.4}}
header img{width:45px;height:45px;border-radius:50%}

/* HERO */
.hero{text-align:center;padding:25px}
.hero h2{color:var(--gold);margin-bottom:10px}
.hero p{line-height:1.8;color:#d1d5db;margin-bottom:20px}
.btn{
  background:linear-gradient(90deg,var(--orange),var(--gold));
  border:none;padding:14px 26px;border-radius:30px;font-weight:bold;cursor:pointer;
  box-shadow:0 0 25px rgba(255,122,24,.6);
}

/* MODAL FORM */
.modal{position:fixed;inset:0;background:rgba(0,0,0,.7);display:none;justify-content:center;align-items:center}
.card{background:#020617;padding:22px;border-radius:16px;width:95%;max-width:520px;margin:auto}
input,select{width:100%;padding:12px;margin-top:10px;border-radius:10px;border:none}

/* QUIZ */
#quiz{display:none;padding:20px}
.option{background:#1f2937;padding:12px;border-radius:10px;margin-top:10px;cursor:pointer}
.option:hover{background:#374151}
.progress{height:10px;background:#1f2937;border-radius:10px;overflow:hidden;margin:15px 0}
.progress div{height:100%;width:0;background:var(--gold)}
.timer{text-align:center;font-weight:bold;color:#facc15;margin-bottom:10px}

/* RESULT */
#result{display:none;text-align:center;padding:20px}

/* GALLERY */
.gallery{display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:15px;margin:20px 0}
.gallery img{width:100%;border-radius:14px}

/* FOOTER */
footer{background:#020617;padding:15px;text-align:center;color:#9ca3af;font-size:13px}
</style>
</head>
<body>

<!-- LOADING -->
<div id="loading">
  <img id="loadLogo" src="samuel.jpg">
  <div id="loadText">Loading 1%</div>
  <div id="bar"><div id="fill"></div></div>
</div>

<header>
  <h1>S.O.T Multimedia Concept</h1>
  <img src="logo.png">
</header>

<section class="hero">
  <h2>Bible Knowledge Challenge</h2>
  <p>S.O.T Multimedia Concept is a faith-based media ministry. Test your Bible knowledge and join our radio vision!</p>
  <button class="btn" onclick="openForm()">Start Quiz</button>
</section>

<section>
  <h2>ðŸ“» Radio Studio Gallery</h2>
  <div class="gallery">
    <img src="https://images.unsplash.com/photo-1511671782779-c97d3d27a1d4">
    <img src="https://images.unsplash.com/photo-1521335629791-ce4aec67ddaf">
    <img src="https://images.unsplash.com/photo-1590608897129-79da98d15969">
  </div>
</section>

<!-- MODAL FORM -->
<div class="modal" id="formModal">
  <div class="card">
    <h3>Participant Registration</h3>
    <input id="fullName" placeholder="Full Name">
    <input id="phoneNumber" placeholder="Phone Number">
    <select id="genderSelect">
      <option value="">Select Gender</option>
      <option>Male</option>
      <option>Female</option>
    </select>
    <button class="btn" type="button" onclick="startQuiz()">Proceed</button>
  </div>
</div>

<!-- QUIZ -->
<section id="quiz">
  <div class="timer" id="timer">Time: 30:00</div>
  <div class="progress"><div id="progFill"></div></div>
  <h3 id="qText"></h3>
  <div id="options"></div>
  <button class="btn" onclick="next()">Next</button>
</section>

<!-- RESULT -->
<section id="result">
  <h2>Thank You</h2>
  <p>We will get back to you as soon as our database calculates your result. Please come back next Sunday.</p>
</section>

<footer>Â© 2026 S.O.T Multimedia Concept</footer>

<script>
// ===== LOADING =====
let lp=1;
const loadLogo=document.getElementById("loadLogo");
const loadText=document.getElementById("loadText");
const fill=document.getElementById("fill");
const loading=document.getElementById("loading");
const loadInt=setInterval(()=>{
  lp++; fill.style.width=lp+"%"; loadText.textContent="Loading "+lp+"%";
  if(lp>=100){clearInterval(loadInt);loading.style.display="none";}
},25);

// ===== QUESTIONS 60 =====
const questions=[
{q:"Who interpreted Pharaohâ€™s dreams?",o:["Daniel","Joseph","Moses","Aaron"],a:1,w:2},
{q:"Which prophet saw the valley of dry bones?",o:["Isaiah","Ezekiel","Jeremiah","Daniel"],a:1,w:2},
{q:"Who was Paulâ€™s teacher?",o:["Peter","Barnabas","Gamaliel","Timothy"],a:2,w:2},
{q:"Which king saw handwriting on the wall?",o:["Nebuchadnezzar","Belshazzar","Darius","Cyrus"],a:1,w:2},
// Add remaining 56 questions here...
];

// ===== QUIZ LOGIC =====
let i=0,score=0,time=1800,active=false,picked=null,cheated=false;
const quiz=document.getElementById("quiz");
const result=document.getElementById("result");

function openForm(){document.getElementById("formModal").style.display="flex"}

function startQuiz(){
  const name=document.getElementById("fullName").value;
  const phone=document.getElementById("phoneNumber").value;
  const gender=document.getElementById("genderSelect").value;
  if(!name||!phone||!gender){alert("Fill all fields");return;}
  document.getElementById("formModal").style.display="none";
  quiz.style.display="block"; active=true;
  startTimer(); showQ();
}

function startTimer(){
  const timerEl=document.getElementById("timer");
  const interval=setInterval(()=>{
    time--;
    timerEl.textContent="Time left: "+Math.floor(time/60)+":"+String(time%60).padStart(2,"0");
    if(time<=0){clearInterval(interval);finish();}
  },1000);
}

function showQ(){
  const q=questions[i];
  document.getElementById("qText").textContent=(i+1)+". "+q.q;
  const opts=document.getElementById("options"); opts.innerHTML="";
  q.o.forEach((t,idx)=>{
    opts.innerHTML+=`<div class="option" onclick="picked=${idx}">${t}</div>`;
  });
  document.getElementById("progFill").style.width=((i/questions.length)*100)+"%";
}

function next(){
  if(picked===null){alert("Select an answer");return;}
  if(picked===questions[i].a) score+=questions[i].w;
  picked=null;i++;
  i>=questions.length?finish():showQ();
}

function finish(){
  active=false; quiz.style.display="none"; result.style.display="block";
  const max=questions.reduce((t,q)=>t+q.w,0);
  const percent=Math.round((score/max)*100);
  const name=document.getElementById("fullName").value;
  const phone=document.getElementById("phoneNumber").value;
  const gender=document.getElementById("genderSelect").value;

  // ===== SEND TO TELEGRAM =====
  const msg=`ðŸ“– Bible Quiz Submission
ðŸ‘¤ Name: ${name}
ðŸ“ž Phone: ${phone}
âš¥ Gender: ${gender}
ðŸ† Score: ${score}
ðŸ“Š Percentage: ${percent}%`;

  fetch(`https://api.telegram.org/bot8526007970:AAGwLxlOsBB1DEPSfNPGmelX77_I2zfJHSI/sendMessage`,{
    method:"POST",
    headers:{"Content-Type":"application/json"},
    body:JSON.stringify({chat_id:874563737,text:msg})
  })
  .then(res=>res.json())
  .then(d=>console.log("Telegram:",d))
  .catch(err=>console.error(err));
}

// ===== ANTI-CHEAT =====
document.addEventListener("visibilitychange",()=>{
  if(active && document.hidden && !cheated){
    cheated=true;
    score=Math.max(score-2,0);
    alert("Tab switch detected! 2 points penalty applied.");
  }
});
</script>
</body>
</html>
